<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RAD GARLINGTON ‚Äî $RAD</title>

  <!-- SEO -->
  <meta name="description" content="$RAD ‚Äì The meme coin with a ledger. Rad Garlington is the Protocol‚Äôs most loyal believer. Built on XRPL with 1 trillion supply.">
  <meta name="keywords" content="Rad Garlington,RAD,meme coin,XRPL,XRP Ledger,crypto,ledger meme,digital asset,XRP meme coin">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="RAD GARLINGTON ‚Äî $RAD">
  <meta property="og:description" content="$RAD ‚Äì The meme coin with a ledger. Built on XRPL.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://radgarlington.io/">
  <meta property="og:site_name" content="RAD GARLINGTON">
  <meta property="og:image" content="https://github.com/radgarlington/radgarlington.io/blob/main/assets/rad_garlington.png?raw=true">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="RAD GARLINGTON ‚Äî $RAD">
  <meta name="twitter:description" content="$RAD ‚Äì The meme coin with a ledger. Built on XRPL.">
  <meta name="twitter:image" content="https://github.com/radgarlington/radgarlington.io/blob/main/assets/rad_garlington.png?raw=true">

  <style>
    * { box-sizing: border-box; }
    :root{ --bg:#ffffff; --ink:#0f172a; --muted:#475569; --blue:#0A74D0; --blue-ink:#ffffff; --card:#f4f7fb; --ring:rgba(10,116,208,.22); --gold:#0A74D0; }
    body { margin:0; background:var(--bg); color:var(--ink); font-family: Arial, sans-serif; line-height:1.5; overflow-x:hidden; }
    p { margin:0 0 10px; }

    .hero { text-align:center; padding:6vh 5vw 2vh; background:#eaf3ff; border:2px solid #d7e7ff; border-radius:12px; max-width:960px; margin:20px auto; box-shadow:0 6px 20px rgba(2,32,71,.08); }
    .hero-img { width:55%; max-width:320px; height:auto; margin:0 auto 14px; display:block; }
    h1 { font-size: clamp(1.8rem, 6vw, 2.8rem); margin-bottom:10px; }
    .tagline { font-size: clamp(1rem, 4vw, 1.3rem); color: var(--muted); margin-bottom:4px; padding:0 10px; }

    .utility { text-align:center; padding:4vh 5vw 6vh; background:#f0f7ff; border:2px solid #d0e3ff; border-radius:12px; max-width:960px; margin:20px auto; box-shadow:0 6px 20px rgba(2,32,71,.08); }
    .utility h2 { font-size: clamp(1.5rem, 5vw, 2rem); margin-bottom:15px; color:var(--ink); }
    .utility p { font-size: clamp(1rem, 4vw, 1.2rem); color: var(--muted); margin:6px 0; }

    .otc-section { background: var(--card); color: var(--ink); padding: 6vh 5vw; }
    .otc-wrap { max-width: 900px; margin: 0 auto; text-align: center; }
    .otc-head { display:flex; align-items:center; justify-content:center; gap:10px; flex-wrap:wrap; }
    .otc-section h2 { font-size: clamp(1.5rem, 5vw, 2rem); margin: 0; color: var(--ink); }
    .otc-section p { font-size: clamp(1rem, 4vw, 1.1rem); margin-bottom: 20px; color: var(--muted); }

    .disclaimer { font-size:0.72rem !important; line-height:1.35; color:#0A74D0; font-weight:bold; text-align:center; max-width:600px; margin:24px auto 0; }
    .countdown-warning { margin-top:12px; text-align:center; color:#222; font-size:0.9rem; }
    .footer { text-align:center; padding:40px 10px; font-size:0.85rem; color:var(--muted); }
    @media (max-width:480px){ .hero-img{ width:65%; max-width:220px; } }

    .status-badge { display:inline-flex; align-items:center; gap:.5rem; font:600 12px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial;
      padding:.35rem .6rem; border-radius:999px; border:1px solid var(--ring); background:#fff; color:#0b3d78; user-select:none; }
    .status-dot{ width:.5rem; height:.5rem; border-radius:50%; background:#6aa1ea; }
    .status-badge.live  { color:#0b3d78; background:#e8f2ff; }
    .status-badge.warn  { color:#3a4c66; background:#f0f6ff; }
    .status-badge.down  { color:#3a4c66; background:#f0f6ff; }

    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:12px 18px; border-radius:10px; text-decoration:none;
      font:600 16px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; box-shadow:0 6px 20px rgba(2,32,71,.12);
      transform:translateY(0); transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease; cursor:pointer; user-select:none; border:none; }
    .btn:hover{ transform:translateY(-1px); box-shadow:0 10px 26px rgba(2,32,71,.16); }
    .btn:active{ transform:translateY(0); box-shadow:0 4px 14px rgba(2,32,71,.10); }
    .btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; box-shadow:0 4px 14px rgba(2,32,71,.08); }
    .btn-primary{ background:var(--blue); color:#fff; }
    .btn-secondary{ background:#ffffff; color:var(--blue); border:2px solid var(--blue); }
    .btn-ghost{ background:#fff; color:var(--ink); border:2px dashed var(--ring); }

    .btn-trustline{ display:inline-block; padding:12px 18px; border-radius:10px; background:var(--blue); color:#fff; text-decoration:none;
      font:600 16px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial; box-shadow:0 6px 20px rgba(2,32,71,.14); transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease; margin-top:4px; }
    .btn-trustline:hover{ transform:translateY(-1px); box-shadow:0 10px 26px rgba(2,32,71,.18); }
    .btn-trustline:active{ transform:translateY(0); box-shadow:0 4px 14px rgba(2,32,71,.12); }

    .social a{ display:inline-block; margin:0 8px; text-decoration:none; line-height:0; }
    .social img{ width:28px; height:28px; vertical-align:middle; display:block; }

    .price-line{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:10px 14px; border-radius:14px; background:#fff; color:var(--blue);
      border:2px solid var(--blue); font-weight:800; font-size: clamp(1rem, 3.6vw, 1.2rem); letter-spacing:.2px; box-shadow:0 0 0 2px #fff inset, 0 10px 22px rgba(2,32,71,.10);
      margin:6px 0 18px; white-space:nowrap; }
    .price-line .sep{ opacity:.6 }

    .toast { position:fixed; left:50%; transform:translateX(-50%); bottom:26px; background:#fff; color:var(--blue); border:2px solid var(--blue);
      padding:12px 16px; border-radius:10px; box-shadow:0 10px 26px rgba(2,32,71,.16); font-weight:700; z-index:9999; display:none; }

    .launch-section { padding:6vh 5vw; background:#f7faff; color:var(--ink); border-top:1px solid #e6eefb; border-bottom:1px solid #e6eefb; }
    .launch-wrap { max-width:960px; margin:0 auto; }
    .launch-section h2 { font-size:clamp(1.5rem, 5vw, 2rem); margin:0 0 14px; }
    .launch-grid { display:grid; gap:14px; grid-template-columns: repeat(2, minmax(240px, 1fr)); }
    .launch-card { background:#ffffff; border:1px solid #e6eefb; border-radius:12px; padding:16px; box-shadow:0 6px 20px rgba(2,32,71,.08); }
    .launch-card h3 { margin:0 0 8px; font-size:1.05rem; color:var(--blue); }
    .launch-card p { margin:6px 0; color:var(--muted); }
    @media (max-width:720px){ .launch-grid{ grid-template-columns:1fr; } }

    .early-note{ text-align:center; font-size:.92rem; color:#0b3d78; background:#eaf3ff; border:1px solid #d7e7ff; border-radius:10px; padding:12px 14px; max-width:860px; margin:18px auto 0; }
    .early-note b{ color:var(--blue); }
  </style>
</head>
<body>

  <!-- HERO -->
  <div class="hero">
    <img src="https://github.com/radgarlington/radgarlington.io/blob/main/assets/logo.png?raw=true" alt="$RAD Logo" class="hero-img" />
    <h1>RAD GARLINGTON ‚Äî $RAD</h1>
    <p class="tagline">The Protocol‚Äôs most loyal believer</p>
    <p style="text-align:center; margin-top:8px;">
      <strong>Token:</strong>
      <span style="color:var(--blue); font-size:1.2em; font-weight:bold;">$RAD</span>
      &nbsp;‚Äî&nbsp;
      <strong>Mint:</strong>
      <span style="color:#0b3d78;">rKpaNoTRdXa48W7emkKgtCLz2MuhEroU7V</span>
    </p>
  </div>

  <!-- Social Links Row -->
  <div class="social" style="margin-top:14px; text-align:center;">
    <a href="https://x.com/radgarlington" target="_blank"><img src="/assets/x.png" alt="X"></a>
    <a href="https://t.me/radgarlington" target="_blank"><img src="/assets/telegram.png" alt="Telegram"></a>
  </div>

  <div style="margin-top:8px; font-size:0.95rem; text-align:center;">
    üîç Verify on:
    <a href="https://bithomp.com/explorer/rKpaNoTRdXa48W7emkKgtCLz2MuhEroU7V" target="_blank" style="color:var(--blue); font-weight:bold; text-decoration:none;">Bithomp</a>
    |
    <a href="https://xrpscan.com/account/rKpaNoTRdXa48W7emkKgtCLz2MuhEroU7V" target="_blank" style="color:var(--blue); font-weight:bold; text-decoration:none;">XRPSCAN</a>
  </div>

  <!-- UTILITY -->
  <div class="utility">
    <h2>The meme coin with a ledger. Powered by XRPL.</h2>
    <p>Ledger fast. Ledger clean.</p>
    <p>‚ö° Instant Transfers</p>
    <p>üí∏ Low Fees</p>
    <p>üîí Trustless Movement</p>
    <p>$RAD inherits XRPL utility.</p>
    <p>Fast, cheap, peer-to-peer.</p>
  </div>

  <!-- OTC -->
  <div class="otc-section">
    <div class="otc-wrap">
      <div class="otc-head">
        <h2>$RAD ‚Äî OTC PRE-SALE</h2>
        <div id="liveStatus" class="status-badge down" title="OTC connectivity">
          <span class="status-dot"></span>
          <span id="liveText">OFFLINE</span>
        </div>
      </div>

      <div class="price-line">
        <span>1M $RAD = $1 USD</span>
        <span class="sep">¬∑</span>
        <span>Powered by XRP</span>
      </div>

      <div style="width:100%; max-width:520px; margin:0 auto; background:#fff; border:3px solid var(--blue); border-radius:12px; box-shadow:0 6px 20px rgba(2,32,71,0.08); padding:20px; text-align:center; color:var(--ink);">

        <!-- Trustline -->
        <a id="trustlineLink" class="btn-trustline" href="#" target="_blank" rel="noopener" aria-label="Set the $RAD trustline in Xaman" style="margin: 12px 0 16px; display:inline-block;">
          Set $RAD Trustline
        </a>

        <label for="usdInput" style="font-weight:bold; display:block; margin-bottom:10px; margin-top:10px;">
          Enter amount in USD
        </label>
        <input id="usdInput" type="number" min="1" step="0.01" placeholder="1.00 USD" style="padding:10px; font-size:1rem; width:100%; max-width:320px; border:2px solid #cbd5e1; border-radius:8px;" />

        <div id="xrpConversion" style="margin-top:20px; font-size:1rem;">üîÅ XRP Required: 0</div>
        <div id="bagAmount" style="margin-top:10px; font-size:1.1rem; font-weight:bold;">ü™ô You‚Äôll receive: 0 $RAD</div>

        <div style="margin-top:14px;">
          <button id="btnBuy" class="btn btn-primary" aria-label="Buy $RAD" disabled>üõí BUY</button>
        </div>

        <div style="margin-top:30px; font-size:0.95rem; color:var(--ink); background:#f7faff; border:2px solid #d7e7ff; padding:16px; border-radius:10px; text-align:center; box-shadow:0 4px 12px rgba(2,32,71,0.06);">
          <p style="margin:0 0 8px;">üéØ <strong>OTC Rate:</strong> $0.000001 per $RAD</p>
          <p style="margin:0 0 8px;">üöÄ <strong>Public Launch Price:</strong> $0.000003 per $RAD</p>
          <p style="margin:0;">‚úÖ OTC buyers in early ‚Äî 3√ó value at launch</p>
        </div>

        <p style="margin-top:12px; font-size:0.82rem; color:var(--muted);">
          $RAD is a meme token on XRPL. This is not financial advice. Plans may change based on treasury, market, or protocol decisions
        </p>
      </div>

      <p class="disclaimer">üîí OTC is a one-way sale until on-chain launch. No sellbacks or redemptions during the presale phase.</p>
      <p class="countdown-warning">Countdown to public launch begins once 500B are sold ‚Äî early OTC holders lock in 3√ó value at launch.</p>
    </div>
  </div>

  <!-- LITE PAPER BUTTON -->
  <div class="litepaper-cta" style="text-align:center; margin:16px 0 6px;">
    <a class="btn btn-primary" href="https://github.com/radgarlington/radgarlington.io/blob/451f0f177e8b8cef5deb146473c04ccd24c99747/litepaper.md" target="_blank" rel="noopener" aria-label="Open the $RAD Lite Paper on GitHub">üìÑ Read the Lite Paper</a>
  </div>

  <!-- LEGAL DISCLAIMER -->
  <p class="disclaimer">
    üõ° Legal Disclaimer<br><br>
    $RAD is an independent community-driven token built on the XRP Ledger (XRPL).
    It is not affiliated with, endorsed by, or associated with Ripple Labs Inc., Brad Garlinghouse, or any related companies, individuals, trademarks, or intellectual property.<br>
    All references to ‚ÄúRad,‚Äù ‚ÄúGarlington,‚Äù or related terminology are part of a fictional blockchain meme narrative developed by the $RAD team and do not depict, reference, or represent Ripple, Brad Garlinghouse, or any official XRP-related entities.
  </p>

  <div class="footer">
    ¬© 2025 RAD GARLINGTON | radgarlington.io | Powered by XRP
    <br>
    <a href="https://x.com/radgarlington" target="_blank" style="color:var(--blue); text-decoration:none; font-weight:bold;">ùïè @radgarlington</a>
    |
    <a href="https://t.me/radgarlington" target="_blank" style="color:var(--blue); text-decoration:none; font-weight:bold;">Telegram @radgarlington</a>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- SCRIPT -->
  <script>
    // === API base (public when on site, local when testing) ===
    const API_BASE =
      (location.hostname === "localhost" || location.hostname === "127.0.0.1")
        ? "http://127.0.0.1:8000"
        : "https://api.radgarlington.io";

    const MIN_USD = 1;

    // Elements
    const usdInput = document.getElementById('usdInput');
    const xrpConversion = document.getElementById('xrpConversion');
    const bagAmount = document.getElementById('bagAmount');
    const btnBuy = document.getElementById('btnBuy');
    const trustlineLink = document.getElementById('trustlineLink');
    const liveBadge = document.getElementById("liveStatus");
    const liveText = document.getElementById("liveText");
    const toast = document.getElementById('toast');

    function setBadge(state, text){
      liveBadge.classList.remove("live","warn","down");
      liveBadge.classList.add(state);
      liveText.textContent = text;
    }
    function showToast(msg){
      toast.textContent = msg;
      toast.style.display = 'block';
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=>toast.style.display='none', 2200);
    }

    async function apiGet(path){
      const r = await fetch(`${API_BASE}${path}`, { cache: "no-store" });
      if(!r.ok) throw new Error(`GET ${path} ${r.status}`);
      return r.json();
    }
    async function apiPost(path, body){
      const r = await fetch(`${API_BASE}${path}`, {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify(body||{})
      });
      if(!r.ok) throw new Error(`POST ${path} ${r.status}`);
      return r.json();
    }

    let serverPrice = null;

    async function boot(){
      try{
        // Info ‚Üí price + LIVE badge
        const info = await apiGet("/api/info");
        const px = Number(info?.pricing?.xrp_usd);
        serverPrice = Number.isFinite(px) && px > 0 ? px : null;

        // Trustline deeplink (support both {trustline_url} and {uri})
        const deeplink = await apiPost("/api/deeplink", { limit: "100000000" });
        const tl = deeplink?.trustline_url || deeplink?.uri || "#";
        trustlineLink.href = tl;

        setBadge("live","LIVE");
      }catch(e){
        console.error(e);
        setBadge("down","OFFLINE");
      }
      handleUSDInput();
    }

    async function handleUSDInput(){
      const usd = parseFloat(usdInput.value);
      xrpConversion.textContent = '';
      bagAmount.textContent = '';

      if (isNaN(usd) || usd < MIN_USD){
        xrpConversion.textContent = usd > 0 ? 'Minimum $1' : 'üîÅ XRP Required: 0';
        bagAmount.textContent = 'ü™ô You‚Äôll receive: 0 $RAD';
        btnBuy.disabled = true;
        return;
      }

      try{
        // Let backend compute quote (keeps RAD = $1 per 1M and uses its XRP price)
        const q = await apiGet(`/api/quote?usd=${encodeURIComponent(usd)}`);
        const xrp = Number(q?.xrp || 0);
        const rad = Number(q?.rad || 0);
        if (!xrp || !rad) throw new Error("bad quote");

        xrpConversion.textContent = `üîÅ XRP Required: ${xrp.toFixed(2)} XRP`;
        bagAmount.textContent = `ü™ô You‚Äôll receive: ${Math.trunc(rad).toLocaleString()} $RAD`;
        btnBuy.disabled = false;
      }catch(e){
        console.error(e);
        xrpConversion.textContent = 'Could not fetch quote';
        bagAmount.textContent = 'ü™ô You‚Äôll receive: 0 $RAD';
        btnBuy.disabled = true;
      }
    }

    async function handleBuy(){
      const usd = parseFloat(usdInput.value || "0");
      if (isNaN(usd) || usd < MIN_USD) { showToast("Minimum $1"); return; }

      try{
        // Use USD directly (API returns { uri, xrp, to })
        const pay = await apiGet(`/api/paylink?usd=${encodeURIComponent(usd.toFixed(2))}`);
        const uri = pay?.uri;
        if (uri){
          window.location.href = uri; // opens Xaman / xrpl: deeplink
        }else{
          showToast("Could not build payment link.");
        }
      }catch(e){
        console.error(e);
        showToast("Payment link error.");
      }
    }

    // Trustline safety: if deeplink not ready, keep user informed
    trustlineLink.addEventListener('click', (e) => {
      const href = trustlineLink.getAttribute('href') || '#';
      if (href === '#'){
        e.preventDefault();
        showToast("Trustline link not ready. Try again.");
      }
    });

    usdInput.addEventListener('input', handleUSDInput);
    btnBuy.addEventListener('click', handleBuy);

    boot();
  </script>
</body>
</html>
